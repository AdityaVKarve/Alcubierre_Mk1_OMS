root - INFO - 2023-04-10 12:14:39.198765 - OMS Server turned on.
uvicorn.error - INFO - Started server process [11108]
uvicorn.error - INFO - Waiting for application startup.
tortoise - INFO - Tortoise-ORM started, {'default': <tortoise.backends.sqlite.client.SqliteClient object at 0x7fad38107370>}, {'models': {'OptionSpread': <class 'models.OptionSpread'>, 'User': <class 'models.User'>, 'User_Finvant': <class 'models.User_Finvant'>}}
tortoise - INFO - Tortoise-ORM generating schema
uvicorn.error - INFO - Application startup complete.
root - INFO - 2023-04-10 12:16:16.957464 - Order placed for TEST NOVA SPREAD_TEST BUY 1 0 0
root - INFO - 2023-04-10 12:16:17.101031 - Order placed for TEST 2 NOVA SPREAD_TEST BUY 1 0 0
root - INFO - 2023-04-10 12:16:17.226248 - Order placement successful for users: [{'user_name': 'TEST', 'strategy': 'NOVA', 'instrument_nomenclature': 'SPREAD_TEST', 'position': 'BUY', 'target': 0, 'stoploss': 0, 'quantity': 1}, {'user_name': 'TEST 2', 'strategy': 'NOVA', 'instrument_nomenclature': 'SPREAD_TEST', 'position': 'BUY', 'target': 0, 'stoploss': 0, 'quantity': 1}]
root - INFO - 2023-04-10 12:17:25.906190 - Order placed for TEST NOVA BANKNIFTY OPEN SHORT -1 0 0
root - INFO - 2023-04-10 12:17:26.039480 - Order placed for TEST 2 NOVA BANKNIFTY OPEN SHORT -1 0 0
root - INFO - 2023-04-10 12:17:26.164521 - Order placement successful for users: [{'user_name': 'TEST', 'strategy': 'NOVA', 'instrument_nomenclature': 'BANKNIFTY', 'position': 'OPEN SHORT', 'target': 0, 'stoploss': 0, 'quantity': 1}, {'user_name': 'TEST 2', 'strategy': 'NOVA', 'instrument_nomenclature': 'BANKNIFTY', 'position': 'OPEN SHORT', 'target': 0, 'stoploss': 0, 'quantity': 1}]
root - INFO - 2023-04-10 12:18:23.338082 - Order placed for TEST NOVA BANKNIFTY OPEN SHORT -1 0.01 0
root - INFO - 2023-04-10 12:18:23.464147 - Order placed for TEST 2 NOVA BANKNIFTY OPEN SHORT -1 0.01 0
root - INFO - 2023-04-10 12:18:23.590213 - Order placement successful for users: [{'user_name': 'TEST', 'strategy': 'NOVA', 'instrument_nomenclature': 'BANKNIFTY', 'position': 'OPEN SHORT', 'target': 0, 'stoploss': 0.01, 'quantity': 1}, {'user_name': 'TEST 2', 'strategy': 'NOVA', 'instrument_nomenclature': 'BANKNIFTY', 'position': 'OPEN SHORT', 'target': 0, 'stoploss': 0.01, 'quantity': 1}]
root - INFO - 2023-04-10 12:18:35.653732 - Order placed for TEST NOVA BANKNIFTY OPEN SHORT -1 0.001 0
root - INFO - 2023-04-10 12:18:35.776378 - Order placed for TEST 2 NOVA BANKNIFTY OPEN SHORT -1 0.001 0
root - INFO - 2023-04-10 12:18:35.906490 - Order placement successful for users: [{'user_name': 'TEST', 'strategy': 'NOVA', 'instrument_nomenclature': 'BANKNIFTY', 'position': 'OPEN SHORT', 'target': 0, 'stoploss': 0.001, 'quantity': 1}, {'user_name': 'TEST 2', 'strategy': 'NOVA', 'instrument_nomenclature': 'BANKNIFTY', 'position': 'OPEN SHORT', 'target': 0, 'stoploss': 0.001, 'quantity': 1}]
root - INFO - 2023-04-10 12:21:44.746873 - Order placement successful for users: []
uvicorn.error - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishaljha/anaconda3/lib/python3.8/site-packages/uvicorn/protocols/http/h11_impl.py", line 366, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/vishaljha/anaconda3/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
  File "/Users/vishaljha/anaconda3/lib/python3.8/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishaljha/anaconda3/lib/python3.8/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishaljha/anaconda3/lib/python3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc
  File "/Users/vishaljha/anaconda3/lib/python3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishaljha/anaconda3/lib/python3.8/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishaljha/anaconda3/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc
  File "/Users/vishaljha/anaconda3/lib/python3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishaljha/anaconda3/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/vishaljha/anaconda3/lib/python3.8/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishaljha/anaconda3/lib/python3.8/site-packages/starlette/routing.py", line 656, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishaljha/anaconda3/lib/python3.8/site-packages/starlette/routing.py", line 259, in handle
    await self.app(scope, receive, send)
  File "/Users/vishaljha/anaconda3/lib/python3.8/site-packages/starlette/routing.py", line 61, in app
    response = await func(request)
  File "/Users/vishaljha/anaconda3/lib/python3.8/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
  File "/Users/vishaljha/anaconda3/lib/python3.8/site-packages/fastapi/routing.py", line 160, in run_endpoint_function
    return await dependant.call(**values)
  File "./main.py", line 1082, in create_order
    return user_result
UnboundLocalError: local variable 'user_result' referenced before assignment
root - INFO - 2023-04-10 12:22:28.687764 - Order placed for TEST NOVA BANKNIFTY_SYNTHETIC_INTRADAY_LONG BUY 1 0.001 0
root - INFO - 2023-04-10 12:22:28.818407 - Order placed for TEST 2 NOVA BANKNIFTY_SYNTHETIC_INTRADAY_LONG BUY 1 0.001 0
root - INFO - 2023-04-10 12:22:28.947276 - Order placement successful for users: [{'user_name': 'TEST', 'strategy': 'NOVA', 'instrument_nomenclature': 'BANKNIFTY_SYNTHETIC_INTRADAY_LONG', 'position': 'BUY', 'target': 0, 'stoploss': 0.001, 'quantity': 1}, {'user_name': 'TEST 2', 'strategy': 'NOVA', 'instrument_nomenclature': 'BANKNIFTY_SYNTHETIC_INTRADAY_LONG', 'position': 'BUY', 'target': 0, 'stoploss': 0.001, 'quantity': 1}]
uvicorn.error - INFO - Shutting down
uvicorn.error - INFO - Waiting for application shutdown.
tortoise - INFO - Tortoise-ORM shutdown
tortoise - INFO - Tortoise-ORM shutdown
uvicorn.error - INFO - Application shutdown complete.
uvicorn.error - INFO - Finished server process [11108]
